{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\easy-club\\\\React\\\\src\\\\Components\\\\Users\\\\NewCard\\\\NewCard.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { getAllCards } from \"../../../Store/actions/EnterpriseAction\";\nimport { connect } from 'react-redux';\nimport { Input, Dimmer, Loader, Button, Icon } from 'semantic-ui-react';\n\nclass NewCard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      stores: [],\n      isFlipped: false,\n      index: -1,\n      value: '',\n      data: []\n    };\n\n    this.onclick = (e, card) => {\n      this.setState({\n        loading: true\n      });\n      var today = new Date();\n      var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate(); //  console.log(this.props.user)\n\n      const data = {};\n      data['UserId'] = this.props.user['C_id'];\n      data['EnterpCardId'] = card.CardId;\n      data['BuyDate'] = date;\n      data['ExpireDate'] = today.getFullYear() + card['Duration'] + '-' + (today.getMonth() + 1) + '-' + today.getDate(); //  console.log(data)\n\n      axios.post(`http://localhost:64430/api/ClubCards`, data).then(x => {\n        this.props.history.replace('/users/clearing');\n      }).catch(x => {\n        this.setState({\n          loading: false,\n          errorMessage: x.response.data.Message\n        });\n      });\n    };\n\n    this.search = () => {\n      this.setState({\n        loading: true\n      });\n      const date = [];\n\n      for (let x in this.props.allCards) //   const data = this.props.allCards.map((x) => {\n      if (x.Name === this.state.value) data.push(x); //   });\n\n\n      this.setState({\n        data: data,\n        value: '',\n        loading: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.selectAllCards();\n    this.setState({\n      data: this.props.allCards\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.state.data.length === 0 && this.props.allCards.length > 0) {\n      this.setState({\n        data: this.props.allCards\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state.data);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: \"13vh\",\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        color: '#00b5ad',\n        textAlign: \"center\",\n        fontSize: '20px',\n        border: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, \"| New Card |\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"Search...\",\n      style: {\n        marginLeft: '10VW'\n      },\n      value: this.state.value,\n      onChange: e => this.setState({\n        value: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 48\n      }\n    }), /*#__PURE__*/React.createElement(Button.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 194\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      icon: \"search\",\n      onClick: this.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 208\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      icon: \"refresh\",\n      onClick: e => this.setState({\n        data: this.props.allCards\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 261\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: \"8vw\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, this.state.data.length !== 0 ? this.state.data.map((x, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flip-box\",\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 36\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flip-box-inner\",\n        style: {\n          width: \"12vw\",\n          height: \"15vh\",\n          marginLeft: \"2vw\",\n          marginTop: \"10vh\"\n        },\n        onClick: e => this.onclick(e, x),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flip-box-front\",\n        style: {\n          backgroundImage: `url(${x.Img})`,\n          backgroundSize: \"100% 100%\",\n          backgroundRepeat: \"no-repeat\",\n          width: \"100%\",\n          height: \"100%\",\n          borderRadius: \"20px\",\n          boxShadow: \" 5px 10px 18px #888888\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flip-box-back\",\n        style: {\n          backgroundColor: \"#191a19\",\n          borderRadius: \"20px\",\n          boxShadow: \" 5px 10px 18px #888888\",\n          color: \"white\",\n          width: \"100%\",\n          height: \"100%\",\n          cursor: \"pointer\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"rgb(0, 181, 173)\",\n          width: \"100%\",\n          height: \"3vh\",\n          marginTop: '3vh',\n          textShadow: \"3px 3px 3px #888888,5px 5px 7px #888888\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 196\n        }\n      }, x.Name)), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: \"17px\",\n          marginTop: \"1vh\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }\n      }, x.Type === \"Primium card\" ? /*#__PURE__*/React.createElement(Icon, {\n        circular: true,\n        inverted: true,\n        color: \"teal\",\n        name: \"star\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 96\n        }\n      }) : \"\", \" \" + x.Type), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: \"20px\",\n          marginTop: \"-2vh\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 41\n        }\n      }, x.Cost + \"$\"))));\n    }) : \"No Results\"), /*#__PURE__*/React.createElement(Dimmer, {\n      active: this.state.loading,\n      inverted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, \"Loading\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    allCards: state.enterprise.allCards,\n    user: state.user.user\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectAllCards: () => dispatch(getAllCards())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewCard);","map":{"version":3,"sources":["D:/Programming/easy-club/React/src/Components/Users/NewCard/NewCard.js"],"names":["React","Component","axios","getAllCards","connect","Input","Dimmer","Loader","Button","Icon","NewCard","state","loading","stores","isFlipped","index","value","data","onclick","e","card","setState","today","Date","date","getFullYear","getMonth","getDate","props","user","CardId","post","then","x","history","replace","catch","errorMessage","response","Message","search","allCards","Name","push","componentDidMount","selectAllCards","componentDidUpdate","length","render","console","log","marginTop","width","color","textAlign","fontSize","border","marginLeft","target","map","i","height","backgroundImage","Img","backgroundSize","backgroundRepeat","borderRadius","boxShadow","backgroundColor","cursor","textShadow","Type","Cost","mapStateToProps","enterprise","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { getAllCards } from \"../../../Store/actions/EnterpriseAction\";\r\nimport { connect } from 'react-redux';\r\nimport { Input, Dimmer, Loader,  Button, Icon } from 'semantic-ui-react';\r\nclass NewCard extends Component {\r\n    state = {\r\n        loading: false,\r\n        stores: [],\r\n        isFlipped: false,\r\n        index: -1,\r\n        value: '',\r\n        data: [],\r\n    }\r\n    componentDidMount() {\r\n         this.props.selectAllCards();\r\n         this.setState({data:this.props.allCards})\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.state.data.length === 0 && this.props.allCards.length > 0) {\r\n            this.setState({ data: this.props.allCards })\r\n        }\r\n    }\r\n    onclick = (e, card) => {\r\n        this.setState({ loading: true });\r\n        var today = new Date();\r\n        var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n      //  console.log(this.props.user)\r\n        const data = {};\r\n        data['UserId'] = this.props.user['C_id']\r\n        data['EnterpCardId'] = card.CardId;\r\n        data['BuyDate'] = date;\r\n        data['ExpireDate'] = today.getFullYear() + card['Duration'] + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n      //  console.log(data)\r\n        axios.post(`http://localhost:64430/api/ClubCards`, data\r\n        ).then(x => {\r\n            this.props.history.replace('/users/clearing')\r\n        }\r\n        ).catch(x => {\r\n            this.setState({ loading: false, errorMessage: x.response.data.Message });\r\n        });\r\n    }\r\n    search = () => {\r\n        this.setState({ loading: true });\r\n        const date=[]\r\n        for(let x in this.props.allCards)\r\n    //   const data = this.props.allCards.map((x) => {\r\n         if(x.Name === this.state.value)\r\n        data.push(x);\r\n    //   });\r\n            this.setState({ data: data, value: '',loading: false })\r\n    }\r\n    render() {\r\n        console.log(this.state.data)\r\n        return (\r\n            <div style={{  marginTop: \"13vh\", width: \"100%\" }}>\r\n                <h1 style={{ color: '#00b5ad', textAlign: \"center\", fontSize: '20px', border: 'none' }}>| New Card |</h1>\r\n                <div style={{ width: \"100%\" }}><Input placeholder='Search...' style={{ marginLeft: '10VW' }} value={this.state.value} onChange={e => this.setState({ value: e.target.value })} /><Button.Group><Button icon='search' onClick={this.search}></Button><Button icon='refresh'onClick={e=>this.setState({data:this.props.allCards})}></Button></Button.Group></div>\r\n                <div style={{ marginLeft: \"8vw\" }}>\r\n                    {this.state.data.length!== 0 ?\r\n                        this.state.data.map((x, i) => {\r\n                            return <div className=\"flip-box\" key={i} >\r\n                                <div className=\"flip-box-inner\" style={{ width: \"12vw\", height: \"15vh\", marginLeft: \"2vw\", marginTop: \"10vh\" }} onClick={e => this.onclick(e, x)}>\r\n                                    <div className=\"flip-box-front\" style={{ backgroundImage: `url(${x.Img})`, backgroundSize: \"100% 100%\", backgroundRepeat: \"no-repeat\", width: \"100%\", height: \"100%\", borderRadius: \"20px\", boxShadow: \" 5px 10px 18px #888888\" }}>\r\n                                        {/* <Image src={x.Img} style={{width:\"60%\",height:\"60%\"}}></Image> */}\r\n                                    </div>\r\n                                    <div className=\"flip-box-back\" style={{ backgroundColor: \"#191a19\", borderRadius: \"20px\", boxShadow: \" 5px 10px 18px #888888\", color: \"white\", width: \"100%\", height: \"100%\",cursor:\"pointer\" }}>\r\n                                    \r\n                                        <div style={{ backgroundColor: \"rgb(0, 181, 173)\", width: \"100%\", height: \"3vh\", marginTop: '3vh',textShadow: \"3px 3px 3px #888888,5px 5px 7px #888888\" }}><h2>{x.Name}</h2></div>\r\n                        <p  style={{fontSize:\"17px\",marginTop:\"1vh\"}}>{x.Type===\"Primium card\"?<Icon circular inverted color=\"teal\" name=\"star\"></Icon>:\"\"}{\" \"+x.Type}</p>\r\n                                        <p style={{fontSize:\"20px\",marginTop:\"-2vh\"}}>{x.Cost + \"$\"}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        })\r\n                        : \"No Results\"\r\n                    }\r\n                </div>\r\n                <Dimmer active={this.state.loading} inverted>\r\n                    <Loader size='large'>Loading</Loader>\r\n                </Dimmer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        allCards: state.enterprise.allCards,\r\n        user: state.user.user,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        selectAllCards: () => dispatch(getAllCards()),\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewCard);"]},"metadata":{},"sourceType":"module"}