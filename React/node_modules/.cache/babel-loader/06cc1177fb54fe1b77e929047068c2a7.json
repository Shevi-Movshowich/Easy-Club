{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\easy-club\\\\React\\\\src\\\\Components\\\\Enterprise\\\\Main\\\\Main.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Image, Loader, Dimmer, Segment, Message } from 'semantic-ui-react';\nimport 'semantic-ui-css/semantic.min.css';\nimport axios from 'axios';\nimport { getEnterpriseById } from \"../../../Store/actions/EnterpriseAction\";\nimport { connect } from 'react-redux';\n\nclass Main extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loaded: true,\n      enterpId: null,\n      permission: false,\n      timeIsHoverError: \"\"\n    };\n    this.search = this.props.location.search;\n    this.params = new URLSearchParams(this.search);\n    this.key = this.params.get('key');\n  }\n\n  componentDidMount() {\n    axios.get(`http://localhost:64430/api/SendMail?key=${this.key}`).then(x => {\n      this.setState({\n        enterpId: x.data,\n        permission: true\n      });\n      this.props.selectEnterprise(this.state.enterpId); // this.setState({loaded:false});\n    }).catch(x => this.setState({\n      timeIsHoverError: x.response.data.Message,\n      permission: false,\n      loaded: false\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }\n    }, this.state.permission ? this.props.history.replace(\"/enterprises/enterpCards\") : /*#__PURE__*/React.createElement(Message, {\n      size: \"massive\",\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 19\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Message.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 73\n      }\n    }, \"Error!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 25\n      }\n    }, this.state.timeIsHoverError)), /*#__PURE__*/React.createElement(Dimmer, {\n      id: \"dimmer\",\n      active: this.props.loading,\n      inverted: \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }\n    }, \"Loading\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.enterprise.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectEnterprise: id => dispatch(getEnterpriseById(id))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);","map":{"version":3,"sources":["D:/Programming/easy-club/React/src/Components/Enterprise/Main/Main.js"],"names":["React","Component","Button","Form","Grid","Header","Image","Loader","Dimmer","Segment","Message","axios","getEnterpriseById","connect","Main","state","loaded","enterpId","permission","timeIsHoverError","search","props","location","params","URLSearchParams","key","get","componentDidMount","then","x","setState","data","selectEnterprise","catch","response","render","history","replace","textAlign","loading","mapStateToProps","enterprise","mapDispatchToProps","dispatch","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button, Form, Grid, Header, Image, Loader, Dimmer, Segment, Message } from 'semantic-ui-react';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport axios from 'axios';\r\nimport { getEnterpriseById } from \"../../../Store/actions/EnterpriseAction\";\r\nimport { connect } from 'react-redux'\r\nclass Main extends Component {\r\n    state = {\r\n        loaded: true,\r\n        enterpId: null,\r\n        permission: false,\r\n        timeIsHoverError: \"\",\r\n    }\r\n    search = this.props.location.search;\r\n    params = new URLSearchParams(this.search);\r\n    key = this.params.get('key');\r\n    componentDidMount() {\r\n        axios.get(`http://localhost:64430/api/SendMail?key=${this.key}`).then(x => {\r\n            this.setState({ enterpId: x.data, permission: true });\r\n            this.props.selectEnterprise(this.state.enterpId);\r\n            // this.setState({loaded:false});\r\n        }).catch(x => this.setState({ timeIsHoverError: x.response.data.Message, permission: false ,loaded:false}));\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.permission ?  this.props.history.replace(\"/enterprises/enterpCards\")     \r\n                : <Message size='massive' style={{textAlign:\"center\"}}> <Message.Header>Error!</Message.Header>\r\n                        <p>{this.state.timeIsHoverError}</p>\r\n                    </Message>}\r\n                    <Dimmer id='dimmer' active={this.props.loading} inverted='false'>\r\n                    <Loader size='large'>Loading</Loader>\r\n                </Dimmer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loading:state.enterprise.loading\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        selectEnterprise: (id) => dispatch(getEnterpriseById(id)),\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\r\n"]},"metadata":{},"sourceType":"module"}