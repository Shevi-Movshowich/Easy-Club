{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\easy-club\\\\React\\\\src\\\\Components\\\\Users\\\\Report\\\\Report.js\";\nimport React, { Component } from 'react';\nimport { Form } from 'semantic-ui-react';\nimport { Button, Confirm, Dimmer, Loader } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\n\nclass Report extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      input: {\n        value: \"\",\n        pattern: /^[0-9]*$/\n      },\n      open: false,\n      cancel: false,\n      error: true,\n      loading: false,\n      card: {}\n    };\n\n    this.onChangeHendler = e => {\n      const inputChanged = { ...this.state.input\n      };\n\n      if (!inputChanged[\"pattern\"].test(e.target.value)) {\n        e.target.value = inputChanged[\"value\"];\n      } else inputChanged[\"value\"] = e.target.value;\n\n      this.setState({\n        input: inputChanged\n      });\n    };\n\n    this.open = () => {\n      this.setState({\n        error: true\n      });\n\n      if (this.state.input[\"value\"] === \"\") {\n        document.getElementById(\"message\").innerHTML = \"This is a required field\";\n      } else {\n        this.setState({\n          error: true\n        });\n        document.getElementById(\"message\").innerHTML = \"\";\n        this.setState({\n          open: true\n        });\n      }\n    };\n\n    this.ok = () => {\n      document.getElementById(\"input\").value = \"\";\n      this.setState({\n        loading: true\n      }); ///מעתיקה לאוביקט\n      // axios.get(`http://localhost:64430/api/ClubCards?id=${this.state.input[\"value\"]}`).then(x => {\n      //     this.setState({card:x.data})\n      //     console.log(x.data);\n      //   }).catch(x => console.log(\"erorr\"));\n      //ןמוחקת אותו\n      // axios.delete(`http://localhost:64430/api/ClubCards?id=${this.state.input[\"value\"]}&userId=${this.props.user.UserId}`).then(x => {\n      //     document.getElementById(\"message\").innerHTML = x.response.data.Message;\n      //     // document.getElementById(\"new\").style.display = \"block\"\n      // }\n      // ).catch(x => { document.getElementById(\"message\").innerHTML = x.response.data.Message; document.getElementById(\"message\").style.color = \"red\" }\n      // );\n\n      this.setState({\n        open: false,\n        cancel: true,\n        loading: false\n      });\n      const inputChanged = { ...this.state.input\n      };\n      inputChanged[\"value\"] = \"\";\n      this.setState({\n        input: inputChanged\n      });\n    };\n\n    this.close = () => this.setState({\n      open: false\n    });\n\n    this.issue = () => {\n      if (this.state.input[\"value\"] === \"\") {\n        document.getElementById(\"message\").innerHTML = \"This is a required field\";\n      } else {\n        this.setState({\n          loading: true\n        }); ///יוצרת חדש\n        // axios.post(`http://localhost:64430/api/ClubCards?id=${this.props.user._id}&userId=${this.props.user.UserId}`).then(x => {\n        // }\n        // ).catch(x => { document.getElementById(\"message\").innerHTML = x.response.data.Message; document.getElementById(\"message\").style.color = \"red\" }\n        // );\n\n        this.setState({\n          loading: false\n        });\n        document.getElementById(\"message\").innerHTML = \"You have been successfully issued  <br> a new card Will be mailed to you at \" + this.state.input[\"value\"];\n      }\n    };\n  }\n\n  render() {\n    const deleteP = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"report\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, \"If your card is stolen or lost you can fill in the card code in the field below \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 127\n      }\n    }), \"and the ticket will be canceled and you will no longer be able to use it\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 58\n      }\n    }), \" and it will be possible to purchase a new card that will be sent to you by mail\");\n    const newP = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"report\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 22\n      }\n    }, \"your card successfully deleted please enter your address for sending new card\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, !this.state.cancel ? deleteP : newP, /*#__PURE__*/React.createElement(Form.Input, {\n      id: \"input\",\n      className: this.state.error === true ? \"error\" : \"\",\n      placeholder: !this.state.cancel ? \"enter id of your card\" : \"enter your address\",\n      maxLength: 5,\n      onChange: e => this.onChangeHendler(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      color: \"teal\",\n      onClick: !this.state.cancel ? this.open : this.issue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, !this.state.cancel ? \"cancel\" : \"Issue new\", \"  \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 77\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 86\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 95\n      }\n    }), /*#__PURE__*/React.createElement(Confirm, {\n      header: \"Deleting a card\",\n      content: 'Are you sure you want to cancel the card? ',\n      open: this.state.open,\n      onCancel: this.close,\n      onConfirm: this.ok,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"message\",\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Dimmer, {\n      active: this.state.loading,\n      inverted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"Loading\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user.user\n  };\n};\n\nexport default connect(mapStateToProps, null)(Report);","map":{"version":3,"sources":["D:/Programming/easy-club/React/src/Components/Users/Report/Report.js"],"names":["React","Component","Form","Button","Confirm","Dimmer","Loader","connect","Report","state","input","value","pattern","open","cancel","error","loading","card","onChangeHendler","e","inputChanged","test","target","setState","document","getElementById","innerHTML","ok","close","issue","render","deleteP","newP","color","mapStateToProps","user"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,MAA1B,EAAiCC,MAAjC,QAA8C,mBAA9C;AACA,SAASC,OAAT,QAAwB,aAAxB;;AACA,MAAMC,MAAN,SAAqBP,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC3BQ,KAD2B,GACnB;AACJC,MAAAA,KAAK,EAAE;AACHC,QAAAA,KAAK,EAAE,EADJ;AAEHC,QAAAA,OAAO,EAAE;AAFN,OADH;AAKJC,MAAAA,IAAI,EAAE,KALF;AAMJC,MAAAA,MAAM,EAAE,KANJ;AAOJC,MAAAA,KAAK,EAAC,IAPF;AAQJC,MAAAA,OAAO,EAAE,KARL;AASJC,MAAAA,IAAI,EAAC;AATD,KADmB;;AAAA,SAY3BC,eAZ2B,GAYRC,CAAD,IAAO;AACrB,YAAMC,YAAY,GAAG,EAAE,GAAG,KAAKX,KAAL,CAAWC;AAAhB,OAArB;;AACA,UAAI,CAACU,YAAY,CAAC,SAAD,CAAZ,CAAwBC,IAAxB,CAA6BF,CAAC,CAACG,MAAF,CAASX,KAAtC,CAAL,EAAmD;AAC/CQ,QAAAA,CAAC,CAACG,MAAF,CAASX,KAAT,GAAiBS,YAAY,CAAC,OAAD,CAA7B;AACH,OAFD,MAIIA,YAAY,CAAC,OAAD,CAAZ,GAAwBD,CAAC,CAACG,MAAF,CAASX,KAAjC;;AACJ,WAAKY,QAAL,CAAc;AAAEb,QAAAA,KAAK,EAAEU;AAAT,OAAd;AACH,KApB0B;;AAAA,SAqB3BP,IArB2B,GAqBpB,MAAM;AACV,WAAKU,QAAL,CAAc;AAACR,QAAAA,KAAK,EAAC;AAAP,OAAd;;AACC,UAAI,KAAKN,KAAL,CAAWC,KAAX,CAAiB,OAAjB,MAA8B,EAAlC,EAAsC;AAClCc,QAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,GAA+C,0BAA/C;AACH,OAFD,MAGI;AACA,aAAKH,QAAL,CAAc;AAACR,UAAAA,KAAK,EAAC;AAAP,SAAd;AACCS,QAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,GAA+C,EAA/C;AACL,aAAKH,QAAL,CAAc;AAAEV,UAAAA,IAAI,EAAE;AAAR,SAAd;AAA+B;AAClC,KA9B0B;;AAAA,SA+B3Bc,EA/B2B,GA+BtB,MAAM;AACPH,MAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCd,KAAjC,GAAyC,EAAzC;AACA,WAAKY,QAAL,CAAc;AAACP,QAAAA,OAAO,EAAC;AAAT,OAAd,EAFO,CAGP;AACA;AACA;AACA;AACA;AAGQ;AACR;AACA;AACA;AACA;AACA;AACA;;AACA,WAAKO,QAAL,CAAc;AAAEV,QAAAA,IAAI,EAAE,KAAR;AAAeC,QAAAA,MAAM,EAAE,IAAvB;AAA6BE,QAAAA,OAAO,EAAC;AAArC,OAAd;AACA,YAAMI,YAAY,GAAG,EAAE,GAAG,KAAKX,KAAL,CAAWC;AAAhB,OAArB;AACAU,MAAAA,YAAY,CAAC,OAAD,CAAZ,GAAuB,EAAvB;AACA,WAAKG,QAAL,CAAc;AAAEb,QAAAA,KAAK,EAAEU;AAAT,OAAd;AACH,KApD0B;;AAAA,SAqD3BQ,KArD2B,GAqDnB,MAAM,KAAKL,QAAL,CAAc;AAAEV,MAAAA,IAAI,EAAE;AAAR,KAAd,CArDa;;AAAA,SAsD3BgB,KAtD2B,GAsDrB,MAAI;AACN,UAAI,KAAKpB,KAAL,CAAWC,KAAX,CAAiB,OAAjB,MAA8B,EAAlC,EAAsC;AAClCc,QAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,GAA+C,0BAA/C;AACH,OAFD,MAGI;AACJ,aAAKH,QAAL,CAAc;AAACP,UAAAA,OAAO,EAAC;AAAT,SAAd,EADI,CAEJ;AACA;AACA;AACA;AACA;;AACA,aAAKO,QAAL,CAAc;AAACP,UAAAA,OAAO,EAAC;AAAT,SAAd;AACAQ,QAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,GAA6C,iFAA+E,KAAKjB,KAAL,CAAWC,KAAX,CAAiB,OAAjB,CAA5H;AACC;AACJ,KApE0B;AAAA;;AAqE3BoB,EAAAA,MAAM,GAAG;AACL,UAAMC,OAAO,gBAAG;AAAG,MAAA,SAAS,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wGAAsG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtG,2FACiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADjC,qFAAhB;AAGA,UAAMC,IAAI,gBAAG;AAAG,MAAA,SAAS,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAAb;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,CAAC,KAAKvB,KAAL,CAAWK,MAAZ,GAAqBiB,OAArB,GAA+BC,IADpC,eAGI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,EAAE,EAAC,OAAf;AAAuB,MAAA,SAAS,EAAE,KAAKvB,KAAL,CAAWM,KAAX,KAAmB,IAAnB,GAAwB,OAAxB,GAAgC,EAAlE;AAAsE,MAAA,WAAW,EAAE,CAAC,KAAKN,KAAL,CAAWK,MAAZ,GAAqB,uBAArB,GAA+C,oBAAlI;AAAwJ,MAAA,SAAS,EAAE,CAAnK;AAAsK,MAAA,QAAQ,EAAEK,CAAC,IAAI,KAAKD,eAAL,CAAqBC,CAArB,CAArL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,eAMI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,MAAd;AAAqB,MAAA,OAAO,EAAE,CAAC,KAAKV,KAAL,CAAWK,MAAZ,GAAqB,KAAKD,IAA1B,GAA+B,KAAKgB,KAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,CAAC,KAAKpB,KAAL,CAAWK,MAAZ,GAAqB,QAArB,GAAgC,WADrC,OANJ,eAOgE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPhE,eAOyE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPzE,eAOkF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPlF,eAQI,oBAAC,OAAD;AACI,MAAA,MAAM,EAAE,iBADZ;AAEI,MAAA,OAAO,EAAE,4CAFb;AAGI,MAAA,IAAI,EAAE,KAAKL,KAAL,CAAWI,IAHrB;AAII,MAAA,QAAQ,EAAE,KAAKe,KAJnB;AAKI,MAAA,SAAS,EAAE,KAAKD,EALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,eAeI;AAAK,MAAA,EAAE,EAAC,SAAR;AAAkB,MAAA,KAAK,EAAE;AAACM,QAAAA,KAAK,EAAC;AAAP,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfJ,eAgBI,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAE,KAAKxB,KAAL,CAAWO,OAA3B;AAAoC,MAAA,QAAQ,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,CAhBJ,CADJ;AAsBH;;AAhG0B;;AAkG/B,MAAMkB,eAAe,GAAGzB,KAAK,IAAI;AAC7B,SAAO;AACH0B,IAAAA,IAAI,EAAE1B,KAAK,CAAC0B,IAAN,CAAWA;AADd,GAAP;AAGH,CAJD;;AAKA,eAAe5B,OAAO,CAAC2B,eAAD,EAAkB,IAAlB,CAAP,CAA+B1B,MAA/B,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form } from 'semantic-ui-react';\r\nimport { Button, Confirm ,Dimmer,Loader} from 'semantic-ui-react';\r\nimport { connect } from 'react-redux'\r\nclass Report extends Component {\r\n    state = {\r\n        input: {\r\n            value: \"\",\r\n            pattern: /^[0-9]*$/,\r\n        },\r\n        open: false,\r\n        cancel: false,\r\n        error:true,\r\n        loading: false,\r\n        card:{}\r\n    }\r\n    onChangeHendler = (e) => {\r\n        const inputChanged = { ...this.state.input };\r\n        if (!inputChanged[\"pattern\"].test(e.target.value)) {\r\n            e.target.value = inputChanged[\"value\"]\r\n        }\r\n        else\r\n            inputChanged[\"value\"] = e.target.value;\r\n        this.setState({ input: inputChanged })\r\n    }\r\n    open = () => {\r\n       this.setState({error:true});\r\n        if (this.state.input[\"value\"] === \"\") {\r\n            document.getElementById(\"message\").innerHTML = \"This is a required field\"\r\n        }\r\n        else{\r\n            this.setState({error:true}); \r\n             document.getElementById(\"message\").innerHTML = \"\"\r\n        this.setState({ open: true });}\r\n    }\r\n    ok = () => {\r\n        document.getElementById(\"input\").value = \"\"\r\n        this.setState({loading:true})\r\n        ///מעתיקה לאוביקט\r\n        // axios.get(`http://localhost:64430/api/ClubCards?id=${this.state.input[\"value\"]}`).then(x => {\r\n        //     this.setState({card:x.data})\r\n        //     console.log(x.data);\r\n        //   }).catch(x => console.log(\"erorr\"));\r\n\r\n        \r\n                //ןמוחקת אותו\r\n        // axios.delete(`http://localhost:64430/api/ClubCards?id=${this.state.input[\"value\"]}&userId=${this.props.user.UserId}`).then(x => {\r\n        //     document.getElementById(\"message\").innerHTML = x.response.data.Message;\r\n        //     // document.getElementById(\"new\").style.display = \"block\"\r\n        // }\r\n        // ).catch(x => { document.getElementById(\"message\").innerHTML = x.response.data.Message; document.getElementById(\"message\").style.color = \"red\" }\r\n        // );\r\n        this.setState({ open: false, cancel: true ,loading:false});\r\n        const inputChanged = { ...this.state.input };\r\n        inputChanged[\"value\"] =\"\";\r\n        this.setState({ input: inputChanged })\r\n    }\r\n    close = () => this.setState({ open: false })\r\n    issue=()=>{ \r\n        if (this.state.input[\"value\"] === \"\") {\r\n            document.getElementById(\"message\").innerHTML = \"This is a required field\"\r\n        }\r\n        else{\r\n        this.setState({loading:true});\r\n        ///יוצרת חדש\r\n        // axios.post(`http://localhost:64430/api/ClubCards?id=${this.props.user._id}&userId=${this.props.user.UserId}`).then(x => {\r\n        // }\r\n        // ).catch(x => { document.getElementById(\"message\").innerHTML = x.response.data.Message; document.getElementById(\"message\").style.color = \"red\" }\r\n        // );\r\n        this.setState({loading:false})\r\n        document.getElementById(\"message\").innerHTML=\"You have been successfully issued  <br> a new card Will be mailed to you at \"+this.state.input[\"value\"]\r\n        }\r\n    }\r\n    render() {\r\n        const deleteP = <p className=\"report\">If your card is stolen or lost you can fill in the card code in the field below <br></br>and the ticket will be\r\n        canceled and you will no longer be able to use it<br></br> and it will be possible to purchase a new card that\r\n        will be sent to you by mail</p>\r\n        const newP = <p className=\"report\">your card successfully deleted please enter your address for sending new card</p>\r\n        return (\r\n            <div>\r\n                {!this.state.cancel ? deleteP : newP}\r\n\r\n                <Form.Input id=\"input\" className={this.state.error===true?\"error\":\"\"} placeholder={!this.state.cancel ? \"enter id of your card\" : \"enter your address\"} maxLength={5} onChange={e => this.onChangeHendler(e)}></Form.Input>\r\n\r\n                <br></br>\r\n                <Button color='teal' onClick={!this.state.cancel ? this.open:this.issue}>\r\n                    {!this.state.cancel ? \"cancel\" : \"Issue new\"}  </Button><br></br><br></br><br></br>\r\n                <Confirm\r\n                    header={\"Deleting a card\"}\r\n                    content={'Are you sure you want to cancel the card? '}\r\n                    open={this.state.open}\r\n                    onCancel={this.close}\r\n                    onConfirm={this.ok}\r\n                ></Confirm>\r\n                <div id=\"message\" style={{color:\"red\"}}></div>\r\n                <Dimmer active={this.state.loading} inverted>\r\n                <Loader size='large'>Loading</Loader>\r\n            </Dimmer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.user.user,\r\n    }\r\n}\r\nexport default connect(mapStateToProps, null)(Report);"]},"metadata":{},"sourceType":"module"}