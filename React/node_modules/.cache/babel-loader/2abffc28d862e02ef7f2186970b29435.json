{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\easy-club\\\\React\\\\src\\\\Components\\\\Users\\\\NewCard\\\\NewCard.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { getAllCards } from \"../../../Store/actions/EnterpriseAction\";\nimport { connect } from 'react-redux';\nimport { Input, Icon, Dimmer, Loader, Transition, Button, Segment, Card, Image } from 'semantic-ui-react';\nimport ReactCardFlip from 'react-card-flip';\n\nclass NewCard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      stores: [],\n      isFlipped: false,\n      index: -1\n    };\n\n    this.onclick = (e, card) => {\n      this.setState({\n        loading: true\n      });\n      var today = new Date();\n      var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n      console.log(this.props.user);\n      const data = {};\n      data['UserId'] = this.props.user['C_id'];\n      data['EnterpCardId'] = card.CardId;\n      data['BuyDate'] = date; // data['ExpireDate']=card.CardId;\n\n      console.log(data);\n      axios.post(`http://localhost:64430/api/ClubCards`, data).then(x => {\n        alert(\"You have successfully buy\");\n        this.props.history.replace('/users/clearing');\n      }).catch(x => {\n        this.setState({\n          loading: false,\n          errorMessage: x.response.data.Message\n        });\n      });\n    };\n\n    this.handleClick = (e, i) => {\n      e.preventDefault();\n      this.setState({\n        isFlipped: !this.state.isFlipped,\n        index: i\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.selectAllCards(); // axios.get(`http://localhost:64430/api/Enterprises`).then(x => {\n    //     console.log(x.data);\n    //     this.setState({ stores: x.data })\n    //     console.log(this.state.stores);\n    // });\n  }\n\n  render() {\n    console.log(this.props.allCards);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        color: '#00b5ad',\n        textAlign: \"center\",\n        fontSize: '20px',\n        border: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, \"| New Card |\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      icon: \"search\",\n      placeholder: \"Search...\",\n      style: {\n        marginLeft: '10VW'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 48\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: \"8vw\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, this.props.allCards !== null ? this.props.allCards.map((x, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"flip-box\",\n        onclick: e => this.onclick(e, x),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 36\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"flip-box-inner\",\n        style: {\n          width: \"12vw\",\n          height: \"15vh\",\n          marginLeft: \"2vw\",\n          marginTop: \"10vh\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"flip-box-front\",\n        style: {\n          backgroundImage: `url(${x.Img})`,\n          backgroundSize: \"80%\",\n          backgroundRepeat: \"no-repeat\",\n          width: \"100%\",\n          height: \"100%\",\n          borderRadius: \"20px\",\n          boxShadow: \" 5px 10px 18px #888888\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"flip-box-back\",\n        style: {\n          backgroundColor: \"rgb(40, 44, 52)\",\n          color: \"white\",\n          width: \"100%\",\n          height: \"100%\",\n          borderRadius: \"20px\",\n          boxShadow: \" 5px 10px 18px #888888\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 41\n        }\n      }, x.Name), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"white\",\n          width: \"100%\",\n          height: \"1vh\",\n          marginTop: '0.5vh'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 41\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 41\n        }\n      }, x.Type), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 41\n        }\n      }, x.Cost + \"$\"))));\n    }) : \"No Results\", \" \"), /*#__PURE__*/React.createElement(Dimmer, {\n      active: this.state.loading,\n      inverted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, \"Loading\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    allCards: state.enterprise.allCards,\n    user: state.user.user\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectAllCards: () => dispatch(getAllCards())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewCard);","map":{"version":3,"sources":["D:/Programming/easy-club/React/src/Components/Users/NewCard/NewCard.js"],"names":["React","Component","axios","NavLink","getAllCards","connect","Input","Icon","Dimmer","Loader","Transition","Button","Segment","Card","Image","ReactCardFlip","NewCard","state","loading","stores","isFlipped","index","onclick","e","card","setState","today","Date","date","getFullYear","getMonth","getDate","console","log","props","user","data","CardId","post","then","x","alert","history","replace","catch","errorMessage","response","Message","handleClick","i","preventDefault","componentDidMount","selectAllCards","render","allCards","color","textAlign","fontSize","border","width","marginLeft","map","height","marginTop","backgroundImage","Img","backgroundSize","backgroundRepeat","borderRadius","boxShadow","backgroundColor","Name","Type","Cost","mapStateToProps","enterprise","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { getAllCards } from \"../../../Store/actions/EnterpriseAction\";\r\nimport { connect } from 'react-redux';\r\nimport { Input, Icon, Dimmer, Loader, Transition, Button, Segment, Card, Image } from 'semantic-ui-react';\r\nimport ReactCardFlip from 'react-card-flip';\r\nclass NewCard extends Component {\r\n    state = {\r\n        loading: false,\r\n        stores: [],\r\n        isFlipped: false,\r\n        index: -1\r\n\r\n    }\r\n    componentDidMount() {\r\n\r\n        this.props.selectAllCards();\r\n\r\n        // axios.get(`http://localhost:64430/api/Enterprises`).then(x => {\r\n        //     console.log(x.data);\r\n        //     this.setState({ stores: x.data })\r\n        //     console.log(this.state.stores);\r\n        // });\r\n    }\r\n    onclick = (e, card) => {\r\n        this.setState({ loading: true });\r\n        var today = new Date();\r\n        var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n        console.log(this.props.user)\r\n        const data = {};\r\n        data['UserId'] = this.props.user['C_id']\r\n        data['EnterpCardId'] = card.CardId;\r\n        data['BuyDate'] = date;\r\n        // data['ExpireDate']=card.CardId;\r\n        console.log(data)\r\n        axios.post(`http://localhost:64430/api/ClubCards`, data\r\n        ).then(x => {\r\n            alert(\"You have successfully buy\");\r\n            this.props.history.replace('/users/clearing')\r\n        }\r\n        ).catch(x => {\r\n            this.setState({ loading: false, errorMessage: x.response.data.Message });\r\n        });\r\n    }\r\n    handleClick = (e, i) => {\r\n        e.preventDefault();\r\n        this.setState({ isFlipped: !this.state.isFlipped, index: i });\r\n    }\r\n    render() {\r\n        console.log(this.props.allCards)\r\n        return (\r\n            <div >\r\n                <h1 style={{ color: '#00b5ad', textAlign: \"center\", fontSize: '20px', border: 'none' }}>| New Card |</h1>\r\n                <div style={{ width: \"100%\" }}><Input icon='search' placeholder='Search...' style={{ marginLeft: '10VW' }} /></div>\r\n                <div style={{marginLeft:\"8vw\"}}>\r\n                    {this.props.allCards !== null ?\r\n                        this.props.allCards.map((x, i) => {\r\n                            return <div class=\"flip-box\"  onclick={e=>this.onclick(e,x)}>\r\n                                <div class=\"flip-box-inner\" style={{ width: \"12vw\", height: \"15vh\", marginLeft: \"2vw\", marginTop: \"10vh\" }}>\r\n                                    <div class=\"flip-box-front\" style={{ backgroundImage: `url(${x.Img})`, backgroundSize: \"80%\", backgroundRepeat: \"no-repeat\", width: \"100%\", height: \"100%\", borderRadius: \"20px\", boxShadow: \" 5px 10px 18px #888888\" }}>\r\n                                        {/* <Image src={x.Img} style={{width:\"60%\",height:\"60%\"}}></Image> */}\r\n                                    </div>\r\n                                    <div class=\"flip-box-back\" style={{ backgroundColor: \"rgb(40, 44, 52)\", color: \"white\", width: \"100%\", height: \"100%\", borderRadius: \"20px\", boxShadow: \" 5px 10px 18px #888888\" }}>\r\n                                        <h2>{x.Name}</h2>\r\n                                        <div style={{ backgroundColor: \"white\", width: \"100%\", height: \"1vh\", marginTop: '0.5vh' }}></div>\r\n                                        <p>{x.Type}</p>\r\n                                        <p>{x.Cost + \"$\"}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        })\r\n                        : \"No Results\"\r\n                    } </div>\r\n                <Dimmer active={this.state.loading} inverted>\r\n                    <Loader size='large'>Loading</Loader>\r\n                </Dimmer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        allCards: state.enterprise.allCards,\r\n        user: state.user.user,\r\n\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        selectAllCards: () => dispatch(getAllCards()),\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewCard);"]},"metadata":{},"sourceType":"module"}