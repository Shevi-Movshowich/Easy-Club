{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\easy-club\\\\React\\\\src\\\\Components\\\\Users\\\\Report\\\\Report.js\";\nimport React, { Component } from 'react';\nimport { Form } from 'semantic-ui-react';\nimport { Button, Confirm } from 'semantic-ui-react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\n\nclass Report extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: {\n        value: \"\",\n        pattern: /^[0-9]*$/\n      },\n      open: false,\n      cancel: false\n    };\n\n    this.click = () => {\n      document.getElementById(\"new\").style.display = \"block\";\n      axios.delete(`http://localhost:64430/api/ClubCards?id=${this.props.user._id}&userId=${this.props.user.UserId}`).then(x => {\n        document.getElementById(\"message\").innerHTML = x.response.data.Message;\n        document.getElementById(\"new\").style.display = \"block\";\n      }).catch(x => {\n        document.getElementById(\"message\").innerHTML = x.response.data.Message;\n        document.getElementById(\"message\").style.color = \"red\";\n      });\n    };\n\n    this.onChangeHendler = e => {\n      const inputChanged = { ...this.state.id\n      };\n\n      if (!inputChanged[\"pattern\"].test(e.target.value)) {\n        e.target.value = inputChanged[\"value\"];\n      } else inputChanged[\"value\"] = e.target.value;\n\n      this.setState({\n        id: inputChanged\n      });\n    };\n\n    this.open = () => {\n      this.setState({\n        open: true\n      });\n    };\n\n    this.ok = () => {\n      this.setState({\n        open: false,\n        cancel: true\n      });\n    };\n\n    this.close = () => this.setState({\n      open: false\n    });\n  }\n\n  render() {\n    const deleteP = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"report\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 23\n      }\n    }, \"If your card is stolen or lost you can fill in the card code in the field below \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 125\n      }\n    }), \"and the ticket will be canceled and you will no longer be able to use it\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 58\n      }\n    }), \" and it will be possible to purchase a new card that will be sent to you by mail\");\n    const newP = /*#__PURE__*/React.createElement(\"p\", {\n      className: \"report\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 20\n      }\n    }, \"your card successfully deleted please enter your address for sending new card\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, !this.state.cancel ? deleteP : newP, /*#__PURE__*/React.createElement(Form.Input, {\n      placeholder: !this.state.cancel ? \"enter id of your card\" : \"enter your address\",\n      maxLength: 5,\n      onChange: e => this.onChangeHendler(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      color: \"teal\",\n      onClick: !this.state.cancel ? this.open : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, !this.state.cancel ? \"cancel\" : \"Issue new\", \"  \"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 71\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 80\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 89\n      }\n    }), /*#__PURE__*/React.createElement(Confirm, {\n      header: \"Deleting a card\",\n      content: 'Are you sure you want to cancel the card? ',\n      open: this.state.open,\n      onCancel: this.close,\n      onConfirm: this.ok,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user.user\n  };\n};\n\nexport default connect(mapStateToProps, null)(Report);","map":{"version":3,"sources":["D:/Programming/easy-club/React/src/Components/Users/Report/Report.js"],"names":["React","Component","Form","Button","Confirm","axios","connect","Report","state","id","value","pattern","open","cancel","click","document","getElementById","style","display","delete","props","user","_id","UserId","then","x","innerHTML","response","data","Message","catch","color","onChangeHendler","e","inputChanged","test","target","setState","ok","close","render","deleteP","newP","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,mBAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;;AACA,MAAMC,MAAN,SAAqBN,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC3BO,KAD2B,GACnB;AACJC,MAAAA,EAAE,EAAE;AACAC,QAAAA,KAAK,EAAE,EADP;AAEAC,QAAAA,OAAO,EAAE;AAFT,OADA;AAKJC,MAAAA,IAAI,EAAE,KALF;AAMJC,MAAAA,MAAM,EAAC;AANH,KADmB;;AAAA,SAU3BC,KAV2B,GAUnB,MAAM;AACVC,MAAAA,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BC,KAA/B,CAAqCC,OAArC,GAA+C,OAA/C;AACAb,MAAAA,KAAK,CAACc,MAAN,CAAc,2CAA0C,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,GAAI,WAAU,KAAKF,KAAL,CAAWC,IAAX,CAAgBE,MAAO,EAA7G,EAAgHC,IAAhH,CAAqHC,CAAC,IAAI;AACtHV,QAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCU,SAAnC,GAA+CD,CAAC,CAACE,QAAF,CAAWC,IAAX,CAAgBC,OAA/D;AACAd,QAAAA,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BC,KAA/B,CAAqCC,OAArC,GAA+C,OAA/C;AACH,OAHD,EAIEY,KAJF,CAIQL,CAAC,IAAI;AAAEV,QAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCU,SAAnC,GAA+CD,CAAC,CAACE,QAAF,CAAWC,IAAX,CAAgBC,OAA/D;AAAwEd,QAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAAnC,CAAyCc,KAAzC,GAAiD,KAAjD;AAAwD,OAJ/I;AAMH,KAlB0B;;AAAA,SAmB3BC,eAnB2B,GAmBRC,CAAD,IAAO;AACrB,YAAMC,YAAY,GAAG,EAAE,GAAG,KAAK1B,KAAL,CAAWC;AAAhB,OAArB;;AACA,UAAI,CAACyB,YAAY,CAAC,SAAD,CAAZ,CAAwBC,IAAxB,CAA6BF,CAAC,CAACG,MAAF,CAAS1B,KAAtC,CAAL,EAAmD;AAC/CuB,QAAAA,CAAC,CAACG,MAAF,CAAS1B,KAAT,GAAiBwB,YAAY,CAAC,OAAD,CAA7B;AACH,OAFD,MAIIA,YAAY,CAAC,OAAD,CAAZ,GAAwBD,CAAC,CAACG,MAAF,CAAS1B,KAAjC;;AACJ,WAAK2B,QAAL,CAAc;AAAE5B,QAAAA,EAAE,EAAEyB;AAAN,OAAd;AACH,KA3B0B;;AAAA,SA4B3BtB,IA5B2B,GA4BpB,MAAM;AACT,WAAKyB,QAAL,CAAc;AAAEzB,QAAAA,IAAI,EAAE;AAAR,OAAd;AACH,KA9B0B;;AAAA,SA+B5B0B,EA/B4B,GA+BvB,MAAM;AACN,WAAKD,QAAL,CAAc;AAAEzB,QAAAA,IAAI,EAAE,KAAR;AAAeC,QAAAA,MAAM,EAAC;AAAtB,OAAd;AACH,KAjC0B;;AAAA,SAkC3B0B,KAlC2B,GAkCnB,MAAM,KAAKF,QAAL,CAAc;AAAEzB,MAAAA,IAAI,EAAE;AAAR,KAAd,CAlCa;AAAA;;AAmC3B4B,EAAAA,MAAM,GAAG;AACL,UAAMC,OAAO,gBAAC;AAAG,MAAA,SAAS,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wGAAsG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtG,2FACmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADnC,qFAAd;AAGA,UAAMC,IAAI,gBAAC;AAAG,MAAA,SAAS,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAAX;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,CAAC,KAAKlC,KAAL,CAAWK,MAAZ,GAAmB4B,OAAnB,GAA2BC,IADhC,eAGI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,WAAW,EAAE,CAAC,KAAKlC,KAAL,CAAWK,MAAZ,GAAmB,uBAAnB,GAA2C,oBAApE;AAA0F,MAAA,SAAS,EAAE,CAArG;AAAwG,MAAA,QAAQ,EAAEoB,CAAC,IAAI,KAAKD,eAAL,CAAqBC,CAArB,CAAvH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,eAMI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,MAAd;AAAqB,MAAA,OAAO,EAAE,CAAC,KAAKzB,KAAL,CAAWK,MAAZ,GAAmB,KAAKD,IAAxB,GAA6B,EAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAC,KAAKJ,KAAL,CAAWK,MAAZ,GAAmB,QAAnB,GAA4B,WAD/B,OANJ,eAO0D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAP1D,eAOmE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPnE,eAO4E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAP5E,eAQI,oBAAC,OAAD;AACI,MAAA,MAAM,EAAE,iBADZ;AAEI,MAAA,OAAO,EAAE,4CAFb;AAGI,MAAA,IAAI,EAAE,KAAKL,KAAL,CAAWI,IAHrB;AAII,MAAA,QAAQ,EAAE,KAAK2B,KAJnB;AAKI,MAAA,SAAS,EAAE,KAAKD,EALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,CADJ;AAkBH;;AA1D0B;;AA6D/B,MAAMK,eAAe,GAAGnC,KAAK,IAAI;AAC7B,SAAO;AACHa,IAAAA,IAAI,EAAEb,KAAK,CAACa,IAAN,CAAWA;AADd,GAAP;AAGH,CAJD;;AAKA,eAAef,OAAO,CAACqC,eAAD,EAAkB,IAAlB,CAAP,CAA+BpC,MAA/B,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form } from 'semantic-ui-react';\r\nimport { Button, Confirm } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux'\r\nclass Report extends Component {\r\n    state = {\r\n        id: {\r\n            value: \"\",\r\n            pattern: /^[0-9]*$/,\r\n        },\r\n        open: false,\r\n        cancel:false\r\n\r\n    }\r\n    click = () => {\r\n        document.getElementById(\"new\").style.display = \"block\"\r\n        axios.delete(`http://localhost:64430/api/ClubCards?id=${this.props.user._id}&userId=${this.props.user.UserId}`).then(x => {\r\n            document.getElementById(\"message\").innerHTML = x.response.data.Message;\r\n            document.getElementById(\"new\").style.display = \"block\"\r\n        }\r\n        ).catch(x => { document.getElementById(\"message\").innerHTML = x.response.data.Message; document.getElementById(\"message\").style.color = \"red\" }\r\n        );\r\n    }\r\n    onChangeHendler = (e) => {\r\n        const inputChanged = { ...this.state.id };\r\n        if (!inputChanged[\"pattern\"].test(e.target.value)) {\r\n            e.target.value = inputChanged[\"value\"]\r\n        }\r\n        else\r\n            inputChanged[\"value\"] = e.target.value;\r\n        this.setState({ id: inputChanged })\r\n    }\r\n    open = () => {\r\n        this.setState({ open: true });\r\n    }\r\n   ok = () => {\r\n        this.setState({ open: false ,cancel:true});\r\n    }\r\n    close = () => this.setState({ open: false })\r\n    render() {\r\n        const deleteP=<p className=\"report\">If your card is stolen or lost you can fill in the card code in the field below <br></br>and the ticket will be\r\n        canceled and you will no longer be able to use it<br></br> and it will be possible to purchase a new card that\r\n        will be sent to you by mail</p>\r\n        const newP=<p className=\"report\">your card successfully deleted please enter your address for sending new card</p>\r\n        return (\r\n            <div>\r\n                {!this.state.cancel?deleteP:newP}\r\n\r\n                <Form.Input placeholder={!this.state.cancel?\"enter id of your card\":\"enter your address\"} maxLength={5} onChange={e => this.onChangeHendler(e)}></Form.Input>\r\n            \r\n                <br></br>\r\n                <Button color='teal' onClick={!this.state.cancel?this.open:\"\"}>\r\n                  {!this.state.cancel?\"cancel\":\"Issue new\"}  </Button><br></br><br></br><br></br>\r\n                <Confirm\r\n                    header={\"Deleting a card\"}\r\n                    content={'Are you sure you want to cancel the card? '}\r\n                    open={this.state.open}\r\n                    onCancel={this.close}\r\n                    onConfirm={this.ok}\r\n                ></Confirm>          \r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.user.user,\r\n    }\r\n}\r\nexport default connect(mapStateToProps, null)(Report);"]},"metadata":{},"sourceType":"module"}