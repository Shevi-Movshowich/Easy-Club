{"ast":null,"code":"import _classCallCheck from\"D:\\\\Programming\\\\easy-club\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Programming\\\\easy-club\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Programming\\\\easy-club\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Programming\\\\easy-club\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Form,Grid,Header,Image,Message,Segment,Loader,Dimmer}from'semantic-ui-react';import'semantic-ui-css/semantic.min.css';import'../../App.css';import{NavLink,withRouter,useLocation,Prompt}from'react-router-dom';import axios from'axios';import{connect}from'react-redux';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={mail:'',password:''};_this.getUser=function(){axios.get(\"http://localhost:64430/api/users?password=\".concat(_this.state.password,\"&email=\").concat(_this.state.mail)).then(function(x){_this.props.selectUser(x.data);_this.props.history.replace('/users/cards');console.log(_this.props.user);}).catch(function(x){document.getElementById(\"login_message\").innerHTML=x.response.data.Message;});};_this.getEnterprise=function(){axios.get(\"http://localhost:64430/api/Enterprises?password=\".concat(_this.state.password,\"&email=\").concat(_this.state.mail)).then(function(x){_this.props.selectEnterprise(x.data);console.log(_this.props.enterprise);}).catch(function(x){return document.getElementById(\"login_message\").innerHTML=x.response.data.Message;});};_this.newPassword=function(){if(_this.mailValidation()===true)if(_this.props.location.pathname==='/users/login'){document.getElementById(\"dimmer\").setAttribute(\"active\",\"true\");axios.get(\"http://localhost:64430/api/Users?email=\".concat(_this.state.mail)).then(function(x){console.log(x.data);_this.props.selectUser(x.data);console.log(_this.props.user);document.getElementById(\"newPassword\").innerHTML=\"sending email to:  \"+x.data.Email;}).catch(function(x){return document.getElementById(\"newPassword\").innerHTML=x.response.data.Message;});}else{var status=false;axios.get(\"http://localhost:64430/api/Enterprises?email=\".concat(_this.state.mail,\" \")).then(function(x){console.log(x.data);_this.props.selectEnterprise(x.data);document.getElementById(\"newPassword\").innerHTML=\"sending email to:  \"+x.data.Email;}).catch(function(x){return document.getElementById(\"newPassword\").innerHTML=x.response.data.Message;});}};_this.mailValidation=function(){if(_this.state.mail===\"\"){document.getElementById(\"login_message\").innerHTML=\"mail is required\";document.getElementsByClassName(\"mail\")[0].classList.add(\"error\");return false;}else if(!_this.state.mail.includes(\"@\")){document.getElementById(\"login_message\").innerHTML=\"mail must includes @\";document.getElementsByClassName(\"mail\")[0].classList.add(\"error\");return false;}return true;};_this.passwordValidation=function(){if(_this.state.password===\"\"){document.getElementById(\"login_message\").innerHTML=\"password is required\";document.getElementsByClassName(\"password\")[0].classList.add(\"error\");return false;}return true;};_this.handleSubmit=function(e){document.getElementById(\"login_message\").innerHTML=\"\";if(_this.mailValidation()===true&&_this.passwordValidation()===true){if(_this.props.location.pathname==='/users/login')_this.getUser();else _this.getEnterprise();}};_this.handleOnChangeMail=function(event){_this.setState({mail:event.target.value});document.getElementsByClassName(\"mail\")[0].classList.remove(\"error\");};_this.handleOnChangePassword=function(event){_this.setState({password:event.target.value});document.getElementsByClassName(\"password\")[0].classList.remove(\"error\");};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Grid,{textAlign:\"center\",style:{height:'100vh'},verticalAlign:\"middle\"},/*#__PURE__*/React.createElement(Grid.Column,{style:{maxWidth:450}},/*#__PURE__*/React.createElement(Header,{as:\"h2\",color:\"teal\",textAlign:\"center\"},/*#__PURE__*/React.createElement(Image,{src:\"/Images/logo.png\"}),\" Log-in to your account\"),/*#__PURE__*/React.createElement(Form,{size:\"tiny\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(Segment,{stacked:true},/*#__PURE__*/React.createElement(Form.Input,{className:\"mail\",fluid:true,icon:\"user\",iconPosition:\"left\",placeholder:\"E-mail address *\",type:\"text\",onChange:this.handleOnChangeMail}),/*#__PURE__*/React.createElement(Form.Input,{className:\"password\",fluid:true,icon:\"lock\",iconPosition:\"left\",placeholder:\"Password *\",type:\"password\",onChange:this.handleOnChangePassword}),/*#__PURE__*/React.createElement(\"div\",{id:\"login_message\",style:{color:\"red\"}}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",color:\"teal\",fluid:true,size:\"large\"},\"Login\"),/*#__PURE__*/React.createElement(\"div\",{id:\"email_message\",style:{display:'none'}},\"sending email\"))),/*#__PURE__*/React.createElement(Message,null,\"New to us?\",/*#__PURE__*/React.createElement(NavLink,{to:this.props.location.pathname==='/users/login'?'/users/signUp':'/enterprises/signUp'},\"Sign Up\"),\"\\xA0\"),/*#__PURE__*/React.createElement(Message,null,/*#__PURE__*/React.createElement(\"label\",null,\"forget your password?\",/*#__PURE__*/React.createElement(\"label\",{onClick:this.newPassword,style:{color:'blue'}},\"new password\"))),/*#__PURE__*/React.createElement(Dimmer,{id:\"dimmer\",inverted:\"false\"},/*#__PURE__*/React.createElement(Loader,{size:\"mini\"},\"Loading\")),/*#__PURE__*/React.createElement(\"div\",{id:\"newPassword\"})));}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user.user,enterprise:state.enterprise.enterprise};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{selectUser:function selectUser(user){return dispatch({type:\"SELECT_USER\",payload:user});},selectEnterprise:function selectEnterprise(enterprise){return dispatch({type:\"SELECT_ENTERPRISE\",payload:enterprise});}};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["D:/Programming/easy-club/React/src/Components/Login/Login.js"],"names":["React","Component","Button","Form","Grid","Header","Image","Message","Segment","Loader","Dimmer","NavLink","withRouter","useLocation","Prompt","axios","connect","Login","state","mail","password","getUser","get","then","x","props","selectUser","data","history","replace","console","log","user","catch","document","getElementById","innerHTML","response","getEnterprise","selectEnterprise","enterprise","newPassword","mailValidation","location","pathname","setAttribute","Email","status","getElementsByClassName","classList","add","includes","passwordValidation","handleSubmit","e","handleOnChangeMail","event","setState","target","value","remove","handleOnChangePassword","height","maxWidth","color","display","mapStateToProps","mapDispatchToProps","dispatch","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Form, Grid, Header, Image, Message, Segment, Loader,Dimmer } from 'semantic-ui-react';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport '../../App.css'\r\nimport { NavLink, withRouter, useLocation, Prompt } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux'\r\nclass Login extends Component {\r\n  state = {\r\n    mail: '',\r\n    password: ''\r\n  }\r\n  getUser = () => {\r\n    axios.get(`http://localhost:64430/api/users?password=${this.state.password}&email=${this.state.mail}`).then(x => {\r\n      this.props.selectUser(x.data);\r\n      this.props.history.replace('/users/cards');\r\n      console.log(this.props.user);\r\n    }\r\n    ).catch(x => { document.getElementById(\"login_message\").innerHTML = x.response.data.Message; }\r\n    );\r\n  }\r\n  getEnterprise = () => {\r\n    axios.get(`http://localhost:64430/api/Enterprises?password=${this.state.password}&email=${this.state.mail}`).then(x => {\r\n      this.props.selectEnterprise(x.data);\r\n      console.log(this.props.enterprise);\r\n    }).catch(x => document.getElementById(\"login_message\").innerHTML = x.response.data.Message);\r\n  }\r\n  newPassword = () => {\r\n    if (this.mailValidation() === true)\r\n      if (this.props.location.pathname === '/users/login') {\r\n        document.getElementById(\"dimmer\").setAttribute(\"active\",\"true\");\r\n        axios.get(`http://localhost:64430/api/Users?email=${this.state.mail}`).then(x => {\r\n          console.log(x.data);\r\n          this.props.selectUser(x.data)\r\n          console.log(this.props.user);\r\n          document.getElementById(\"newPassword\").innerHTML = \"sending email to:  \" + x.data.Email;\r\n        }).catch(x => document.getElementById(\"newPassword\").innerHTML = x.response.data.Message);\r\n      }\r\n      else {\r\n        const status = false;\r\n        axios.get(`http://localhost:64430/api/Enterprises?email=${this.state.mail} `).then(x => {\r\n          console.log(x.data);\r\n          this.props.selectEnterprise(x.data);\r\n          document.getElementById(\"newPassword\").innerHTML = \"sending email to:  \" + x.data.Email;\r\n        }).catch(x => document.getElementById(\"newPassword\").innerHTML = x.response.data.Message);\r\n      }\r\n  }\r\n  mailValidation = () => {\r\n    if (this.state.mail === \"\") {\r\n      document.getElementById(\"login_message\").innerHTML = \"mail is required\";\r\n      document.getElementsByClassName(\"mail\")[0].classList.add(\"error\");\r\n      return false;\r\n    }\r\n    else\r\n      if (!this.state.mail.includes(\"@\")) {\r\n        document.getElementById(\"login_message\").innerHTML = \"mail must includes @\"\r\n        document.getElementsByClassName(\"mail\")[0].classList.add(\"error\");\r\n        return false\r\n      }\r\n    return true;\r\n  }\r\n  passwordValidation = () => {\r\n    if (this.state.password === \"\") {\r\n      document.getElementById(\"login_message\").innerHTML = \"password is required\";\r\n      document.getElementsByClassName(\"password\")[0].classList.add(\"error\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  handleSubmit = (e) => {\r\n    document.getElementById(\"login_message\").innerHTML = \"\";\r\n    if (this.mailValidation() === true && this.passwordValidation() === true) {\r\n      if (this.props.location.pathname === '/users/login')\r\n        this.getUser();\r\n      else\r\n        this.getEnterprise();\r\n    }\r\n  }\r\n  handleOnChangeMail = (event) => {\r\n    this.setState({ mail: event.target.value });\r\n    document.getElementsByClassName(\"mail\")[0].classList.remove(\"error\");\r\n  }\r\n  handleOnChangePassword = (event) => {\r\n    this.setState({ password: event.target.value });\r\n    document.getElementsByClassName(\"password\")[0].classList.remove(\"error\");\r\n  }\r\n  render() {\r\n    return (\r\n      <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\r\n        <Grid.Column style={{ maxWidth: 450 }}>\r\n          <Header as='h2' color='teal' textAlign='center'>\r\n            <Image src='/Images/logo.png' /> Log-in to your account\r\n        </Header>\r\n          <Form size='tiny' onSubmit={this.handleSubmit}>\r\n            <Segment stacked>\r\n              <Form.Input className=\"mail\"\r\n                fluid icon='user'\r\n                iconPosition='left'\r\n                placeholder='E-mail address *'\r\n                type='text'\r\n                onChange={this.handleOnChangeMail}\r\n              />\r\n              <Form.Input className=\"password\"\r\n                fluid\r\n                icon='lock'\r\n                iconPosition='left'\r\n                placeholder='Password *'\r\n                type='password'\r\n                onChange={this.handleOnChangePassword}\r\n              />\r\n              <div id=\"login_message\" style={{ color: \"red\" }}></div>\r\n              <Button type=\"submit\" color='teal' fluid size='large'>\r\n                Login\r\n            </Button>\r\n              <div id=\"email_message\" style={{ display: 'none' }}>sending email</div>\r\n            </Segment>\r\n          </Form>\r\n          <Message>\r\n            New to us?<NavLink to={this.props.location.pathname === '/users/login' ? '/users/signUp' : '/enterprises/signUp'} >Sign Up</NavLink>&nbsp;\r\n      </Message>\r\n          <Message>\r\n            <label>forget your password?<label onClick={this.newPassword} style={{ color: 'blue' }}>new password</label></label>\r\n          </Message>\r\n          <Dimmer id='dimmer' inverted='false'>\r\n            <Loader size='mini'>Loading</Loader>\r\n          </Dimmer>\r\n          <div id=\"newPassword\"></div>\r\n        </Grid.Column>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.user.user,\r\n    enterprise: state.enterprise.enterprise\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    selectUser: (user) => dispatch({ type: \"SELECT_USER\", payload: user }),\r\n    selectEnterprise: (enterprise) => dispatch({ type: \"SELECT_ENTERPRISE\", payload: enterprise }),\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);"]},"metadata":{},"sourceType":"module"}