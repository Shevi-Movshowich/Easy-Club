{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\easy-club\\\\React\\\\src\\\\Components\\\\Login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Image, Message, Segment } from 'semantic-ui-react';\nimport 'semantic-ui-css/semantic.min.css';\nimport { NavLink, withRouter, useLocation, Prompt } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mail: '',\n      password: ''\n    };\n\n    this.getUser = () => {\n      axios.get(`http://localhost:64430/api/users?password=${this.state.password}&email=${this.state.mail}`).then(x => {\n        this.props.selectUser(x.data);\n        this.props.history.replace('/users/cards');\n        console.log(this.props.user);\n      }).catch(x => {\n        document.getElementById(\"login_message\").innerHTML = x.response.data.Message;\n      });\n    };\n\n    this.getEnterprise = () => {\n      axios.get(`http://localhost:64430/api/Enterprises?password=${this.state.password}&email=${this.state.mail}`).then(x => {\n        this.props.selectEnterprise(x.data);\n        console.log(this.props.enterprise);\n      }).catch(x => document.getElementById(\"login_message\").innerHTML = x.response.data.Message);\n    };\n\n    this.newPassword = () => {\n      if (this.props.location.pathname === '/users/login') {\n        axios.get(`http://localhost:64430/api/Users?email=${this.state.mail}`).then(x => {\n          console.log(x.data);\n          this.props.selectUser(x.data);\n          console.log(this.props.user);\n          document.getElementById(\"newPassword\").innerHTML = \"sending email to:  \" + x.data.Email;\n        }).catch(x => document.getElementById(\"newPassword\").innerHTML = x.response.data.Message);\n      } else {\n        const status = false;\n        axios.get(`http://localhost:64430/api/Enterprises?email=${this.state.mail} `).then(x => {\n          console.log(x.data);\n          this.props.selectEnterprise(x.data);\n          document.getElementById(\"newPassword\").innerHTML = \"sending email to:  \" + x.data.Email;\n        }).catch(x => document.getElementById(\"newPassword\").innerHTML = x.response.data.Message);\n      }\n    };\n\n    this.handleSubmit = e => {\n      document.getElementById(\"login_message\").innerHTML = \"\";\n\n      if (this.state.mail === \"\") {\n        document.getElementById(\"login_message\").innerHTML = \"mail is required\";\n      } else if (!this.state.mail.includes(\"@\")) {\n        document.getElementById(\"login_message\").innerHTML = \"mail must includes @\";\n      } else if (this.state.password === \"\") document.getElementById(\"login_message\").innerHTML = \"password is required\";else if (this.props.location.pathname === '/users/login') this.getUser();else this.getEnterprise();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Grid, {\n      textAlign: \"center\",\n      style: {\n        height: '100vh'\n      },\n      verticalAlign: \"middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      style: {\n        maxWidth: 450\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      as: \"h2\",\n      color: \"teal\",\n      textAlign: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: \"/Images/logo.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }), \" Log-in to your account\"), /*#__PURE__*/React.createElement(Form, {\n      size: \"tiny\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Segment, {\n      stacked: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Input, {\n      className: this.state.mail === \"\" || !this.state.mail.includes(\"@\") ? \"myError\" : \"mail\",\n      fluid: true,\n      icon: \"user\",\n      iconPosition: \"left\",\n      placeholder: \"E-mail address *\",\n      type: \"text\",\n      onChange: event => this.setState({\n        mail: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Form.Input, {\n      className: \"password\",\n      fluid: true,\n      icon: \"lock\",\n      iconPosition: \"left\",\n      placeholder: \"Password *\",\n      type: \"password\",\n      onChange: event => this.setState({\n        password: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login_message\",\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"teal\",\n      fluid: true,\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"email_message\",\n      style: {\n        display: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, \"sending email\"))), /*#__PURE__*/React.createElement(Message, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, \"New to us?\", /*#__PURE__*/React.createElement(NavLink, {\n      to: this.props.location.pathname === '/users/login' ? '/users/signUp' : '/enterprises/signUp',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 23\n      }\n    }, \"Sign Up\"), \"\\xA0\"), /*#__PURE__*/React.createElement(Message, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, \"forget your password?\", /*#__PURE__*/React.createElement(\"label\", {\n      onClick: this.newPassword,\n      style: {\n        color: 'blue'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 41\n      }\n    }, \"new password\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"newPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user.user,\n    enterprise: state.enterprise.enterprise\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectUser: user => dispatch({\n      type: \"SELECT_USER\",\n      payload: user\n    }),\n    selectEnterprise: enterprise => dispatch({\n      type: \"SELECT_ENTERPRISE\",\n      payload: enterprise\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["D:/Programming/easy-club/React/src/Components/Login/Login.js"],"names":["React","Component","Button","Form","Grid","Header","Image","Message","Segment","NavLink","withRouter","useLocation","Prompt","axios","connect","Login","state","mail","password","getUser","get","then","x","props","selectUser","data","history","replace","console","log","user","catch","document","getElementById","innerHTML","response","getEnterprise","selectEnterprise","enterprise","newPassword","location","pathname","Email","status","handleSubmit","e","includes","render","height","maxWidth","event","setState","target","value","color","display","mapStateToProps","mapDispatchToProps","dispatch","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Form, Grid, Header, Image, Message, Segment } from 'semantic-ui-react';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport { NavLink, withRouter, useLocation, Prompt } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux'\r\nclass Login extends Component {\r\n  state = {\r\n    mail: '',\r\n    password: ''\r\n  }\r\n  getUser = () => {\r\n    axios.get(`http://localhost:64430/api/users?password=${this.state.password}&email=${this.state.mail}`).then(x => {\r\n      this.props.selectUser(x.data);\r\n      this.props.history.replace('/users/cards');\r\n      console.log(this.props.user);\r\n    }\r\n    ).catch(x => { document.getElementById(\"login_message\").innerHTML = x.response.data.Message; }\r\n    );\r\n  }\r\n  getEnterprise = () => {\r\n    axios.get(`http://localhost:64430/api/Enterprises?password=${this.state.password}&email=${this.state.mail}`).then(x => {\r\n      this.props.selectEnterprise(x.data);\r\n      console.log(this.props.enterprise);\r\n    }).catch(x =>document.getElementById(\"login_message\").innerHTML = x.response.data.Message);\r\n  }\r\n  newPassword = () => {\r\n    if (this.props.location.pathname === '/users/login') {\r\n      axios.get(`http://localhost:64430/api/Users?email=${this.state.mail}`).then(x => {\r\n        console.log(x.data);\r\n        this.props.selectUser(x.data)\r\n        console.log(this.props.user);\r\n        document.getElementById(\"newPassword\").innerHTML = \"sending email to:  \" + x.data.Email;\r\n      }).catch(x => document.getElementById(\"newPassword\").innerHTML = x.response.data.Message);\r\n    }\r\n    else {\r\n      const status = false;\r\n      axios.get(`http://localhost:64430/api/Enterprises?email=${this.state.mail} `).then(x => {\r\n        console.log(x.data);\r\n        this.props.selectEnterprise(x.data);\r\n        document.getElementById(\"newPassword\").innerHTML = \"sending email to:  \" + x.data.Email;\r\n      }).catch(x => document.getElementById(\"newPassword\").innerHTML = x.response.data.Message);\r\n    }\r\n  }\r\n  handleSubmit = (e) => {\r\n    document.getElementById(\"login_message\").innerHTML = \"\";\r\n    if (this.state.mail === \"\") {\r\n      document.getElementById(\"login_message\").innerHTML = \"mail is required\";\r\n    }\r\n    else\r\n      if (!this.state.mail.includes(\"@\")) {\r\n        document.getElementById(\"login_message\").innerHTML = \"mail must includes @\"\r\n      }\r\n      else\r\n        if (this.state.password === \"\")\r\n          document.getElementById(\"login_message\").innerHTML = \"password is required\";\r\n        else\r\n          if (this.props.location.pathname === '/users/login')\r\n            this.getUser();\r\n          else\r\n            this.getEnterprise();\r\n  }\r\n  render() {\r\n    return (\r\n      <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\r\n        <Grid.Column style={{ maxWidth: 450 }}>\r\n          <Header as='h2' color='teal' textAlign='center'>\r\n            <Image src='/Images/logo.png' /> Log-in to your account\r\n        </Header>\r\n          <Form size='tiny' onSubmit={this.handleSubmit}>\r\n            <Segment stacked>\r\n              <Form.Input className={this.state.mail ===\"\"||!this.state.mail.includes(\"@\")?\"myError\":\"mail\"}\r\n                fluid icon='user'\r\n                iconPosition='left'\r\n                placeholder='E-mail address *'\r\n                type='text'\r\n                onChange={(event) => this.setState({ mail: event.target.value })}\r\n              />\r\n              <Form.Input className=\"password\"\r\n                fluid\r\n                icon='lock'\r\n                iconPosition='left'\r\n                placeholder='Password *'\r\n                type='password'\r\n                onChange={(event) => this.setState({ password: event.target.value })}\r\n              />\r\n              <div id=\"login_message\" style={{ color: \"red\" }}></div>\r\n              <Button type=\"submit\" color='teal' fluid size='large'>\r\n                Login\r\n            </Button>\r\n              <div id=\"email_message\" style={{ display: 'none' }}>sending email</div>\r\n            </Segment>\r\n          </Form>\r\n          <Message>\r\n            New to us?<NavLink to={this.props.location.pathname === '/users/login' ? '/users/signUp' : '/enterprises/signUp'} >Sign Up</NavLink>&nbsp;\r\n      </Message>\r\n          <Message>\r\n            <label>forget your password?<label onClick={this.newPassword} style={{ color: 'blue' }}>new password</label></label>\r\n          </Message>\r\n          <div id=\"newPassword\"></div>\r\n\r\n        </Grid.Column>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.user.user,\r\n    enterprise: state.enterprise.enterprise\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    selectUser: (user) => dispatch({ type: \"SELECT_USER\", payload: user }),\r\n    selectEnterprise: (enterprise) => dispatch({ type: \"SELECT_ENTERPRISE\", payload: enterprise }),\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);"]},"metadata":{},"sourceType":"module"}